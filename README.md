# LocalDP: Pixel Level Diffrential Privacy

Developed by Rakshit Naidu and Soumya

### To run: 
1. Clone the repo
2. `cd localdp`
3. Add the datasets in the datasets variable in the runner.sh 
4. `./runner.sh`

Look into configs to make minimal hyperparameter changes.

### To get datasetwise results:
`python results/analysis.py <dataset name>`

Ex: `python results/analysis.py breastmnist`

### For Basic UnitTesting

`run unittest.ipynb`

## RESULTS 
Epochs - 100

Batch Size - 1024

Image Size - 28*28

# Results for breastmnist

## Overall AUC Scores

| Noise Level | AUC Score Fold 0 | AUC Score Fold 1 | Mean AUC |
|-------------|------------------|------------------|----------|
| Original    | 0.836048        | 0.840434        | 0.838241 |
| 1pixel      | 0.864662        | 0.843985        | 0.854323 |
| 1           | 0.861320        | 0.869883        | 0.865602 |
| 5           | 0.855681        | 0.875104        | 0.865393 |
| 10          | 0.862155        | 0.845447        | 0.853801 |
| 25          | 0.786341        | 0.835422        | 0.810881 |
| 50          | 0.832916        | 0.843150        | 0.838033 |
| 75          | 0.824144        | 0.803467        | 0.813805 |
| 90          | 0.823308        | 0.794695        | 0.809002 |
| 99          | 0.592523        | 0.701441        | 0.646982 |

## Overall Accuracy Scores

| Noise Level | Accuracy Fold 0 | Accuracy Fold 1 | Mean Accuracy |
|-------------|----------------|-----------------|---------------|
| Original    | 80.769231      | 80.769231      | 80.769231    |
| 1pixel      | 85.897436      | 81.410256      | 83.653846    |
| 1           | 82.692308      | 83.974359      | 83.333333    |
| 5           | 83.333333      | 87.179487      | 85.256410    |
| 10          | 83.333333      | 80.128205      | 81.730769    |
| 25          | 82.692308      | 85.897436      | 84.294872    |
| 50          | 82.051282      | 82.051282      | 82.051282    |
| 75          | 80.769231      | 73.076923      | 76.923077    |
| 90          | 78.846154      | 81.410256      | 80.128205    |
| 99          | 73.076923      | 73.076923      | 73.076923    |

## Class-wise Accuracy Scores

| Noise Level | Class 0 Fold 0 | Class 1 Fold 0 | Class 0 Fold 1 | Class 1 Fold 1 | Mean Class 0 | Mean Class 1 |
|-------------|---------------|----------------|----------------|----------------|--------------|--------------|
| Original    | 57.142857     | 89.473684     | 61.904762     | 87.719298     | 59.523810    | 88.596491    |
| 1pixel      | 66.666667     | 92.982456     | 59.523810     | 89.473684     | 63.095238    | 91.228070    |
| 1           | 64.285714     | 89.473684     | 73.809524     | 87.719298     | 69.047619    | 88.596491    |
| 5           | 66.666667     | 89.473684     | 69.047619     | 93.859649     | 67.857143    | 91.666667    |
| 10          | 69.047619     | 88.596491     | 52.380952     | 90.350877     | 60.714286    | 89.473684    |
| 25          | 64.285714     | 89.473684     | 66.666667     | 92.982456     | 65.476190    | 91.228070    |
| 50          | 69.047619     | 86.842105     | 66.666667     | 87.719298     | 67.857143    | 87.280702    |
| 75          | 69.047619     | 85.087719     | 59.523810     | 78.070175     | 64.285714    | 81.578947    |
| 90          | 40.476190     | 92.982456     | 47.619048     | 93.859649     | 44.047619    | 93.421053    |
| 99          | 0.000000      | 100.000000    | 0.000000      | 100.000000    | 0.000000     | 100.000000   |

## Summary Across All Folds

| Noise Level | Class 0 Mean | Class 1 Mean |
|-------------|--------------|--------------|
| Original    | 59.523810    | 88.596491    |
| 1pixel      | 63.095238    | 91.228070    |
| 1           | 69.047619    | 88.596491    |
| 5           | 67.857143    | 91.666667    |
| 10          | 60.714286    | 89.473684    |
| 25          | 65.476190    | 91.228070    |
| 50          | 67.857143    | 87.280702    |
| 75          | 64.285714    | 81.578947    |
| 90          | 44.047619    | 93.421053    |
| 99          | 0.000000     | 100.000000   |

# Results for retinamnist

## Overall AUC Scores

| Noise Level | AUC Score Fold 0 | AUC Score Fold 1 | Mean AUC |
|-------------|------------------|------------------|----------|
| Original    | 0.669707        | 0.704976        | 0.687342 |
| 1pixel      | 0.681044        | 0.702946        | 0.691995 |
| 1           | 0.692739        | 0.692780        | 0.692760 |
| 5           | 0.702567        | 0.712306        | 0.707436 |
| 10          | 0.709434        | 0.704623        | 0.707029 |
| 25          | 0.704832        | 0.700444        | 0.702638 |
| 50          | 0.693271        | 0.694030        | 0.693650 |
| 75          | 0.726278        | 0.702389        | 0.714333 |
| 90          | 0.738623        | 0.718964        | 0.728794 |
| 99          | 0.705994        | 0.729617        | 0.717806 |

## Overall Accuracy Scores

| Noise Level | Accuracy Fold 0 | Accuracy Fold 1 | Mean Accuracy |
|-------------|----------------|-----------------|---------------|
| Original    | 45.25          | 49.75          | 47.500        |
| 1pixel      | 47.00          | 47.50          | 47.250        |
| 1           | 45.50          | 45.00          | 45.250        |
| 5           | 49.25          | 47.00          | 48.125        |
| 10          | 47.25          | 47.75          | 47.500        |
| 25          | 46.00          | 48.75          | 47.375        |
| 50          | 46.00          | 46.25          | 46.125        |
| 75          | 49.00          | 49.00          | 49.000        |
| 90          | 48.25          | 53.25          | 50.750        |
| 99          | 50.00          | 53.75          | 51.875        |

## Summary Across All Folds

| Noise Level | Class 0 Mean | Class 1 Mean | Class 2 Mean | Class 3 Mean | Class 4 Mean |
|-------------|--------------|--------------|--------------|--------------|--------------|
| Original    | 77.298851    | 18.478261    | 19.565217    | 38.235294    | 15.0         |
| 1pixel      | 77.011494    | 28.260870    | 26.630435    | 22.794118    | 10.0         |
| 1           | 76.724138    | 16.304348    | 20.652174    | 28.676471    | 7.5          |
| 5           | 78.160920    | 20.652174    | 21.739130    | 34.558824    | 17.5         |
| 10          | 77.586207    | 13.043478    | 21.195652    | 39.705882    | 12.5         |
| 25          | 74.425287    | 26.086957    | 22.826087    | 35.294118    | 15.0         |
| 50          | 76.724138    | 18.478261    | 14.673913    | 41.176471    | 5.0          |
| 75          | 78.448276    | 14.130435    | 20.652174    | 47.794118    | 7.5          |
| 90          | 77.586207    | 14.130435    | 32.065217    | 46.323529    | 2.5          |
| 99          | 79.885057    | 0.000000     | 61.413043    | 17.647059    | 0.0          |